---
title: "Hiá»ƒu Docker: Tá»« CÆ¡ Báº£n Ä‘áº¿n á»¨ng Dá»¥ng"
publishedAt: "2025-04-08"
summary: "Docker lÃ  má»™t ná»n táº£ng giÃºp báº¡n Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  mÃ´i trÆ°á»ng cháº¡y vÃ o má»™t container â€” má»™t dáº¡ng mÃ¡y áº£o nháº¹ giÃºp á»©ng dá»¥ng cháº¡y nháº¥t quÃ¡n trÃªn má»i mÃ¡y."
---

DÆ°á»›i Ä‘Ã¢y lÃ  má»™t bÃ i viáº¿t chi tiáº¿t chia sáº» vá» **Docker**, bao gá»“m:

- Tá»•ng quan vá» Docker  
- CÃ¡c lá»‡nh Docker phá»• biáº¿n  
- CÃ¡ch viáº¿t Dockerfile  
- CÃ¡ch viáº¿t `docker-compose.yml`  
- Giáº£i thÃ­ch Ã½ nghÄ©a tá»«ng pháº§n

---

# ğŸ³ Hiá»ƒu Docker: Tá»« CÆ¡ Báº£n Ä‘áº¿n á»¨ng Dá»¥ng

## âœ… Docker lÃ  gÃ¬?

Docker lÃ  má»™t ná»n táº£ng giÃºp báº¡n **Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  mÃ´i trÆ°á»ng cháº¡y** vÃ o má»™t container â€” má»™t dáº¡ng "mÃ¡y áº£o nháº¹" giÃºp á»©ng dá»¥ng cháº¡y nháº¥t quÃ¡n trÃªn má»i mÃ¡y.

VÃ­ dá»¥: Báº¡n viáº¿t má»™t á»©ng dá»¥ng Laravel cháº¡y tá»‘t trÃªn mÃ¡y mÃ¬nh, nhÆ°ng khi Ä‘áº©y lÃªn server thÃ¬ lá»—i tÃ¹m lum. Docker giÃºp gÃ³i nÃ³ láº¡i Ä‘á»ƒ "cháº¡y á»Ÿ Ä‘Ã¢u cÅ©ng giá»‘ng nhau".

---

## ğŸ§° Má»™t sá»‘ lá»‡nh Docker phá»• biáº¿n

### ğŸ” Xem danh sÃ¡ch container Ä‘ang cháº¡y
```bash
docker ps
```

### ğŸ” Xem táº¥t cáº£ container (bao gá»“m container Ä‘Ã£ dá»«ng)
```bash
docker ps -a
```

### ğŸš€ Cháº¡y má»™t container
```bash
docker run -d -p 8080:80 nginx
```
- `-d`: cháº¡y ngáº§m (detached)
- `-p`: Ã¡nh xáº¡ port (host:container)
- `nginx`: tÃªn image

### âŒ Dá»«ng má»™t container
```bash
docker stop <container_id>
```

### ğŸ—‘ï¸ XÃ³a container
```bash
docker rm <container_id>
```

### ğŸ—‘ï¸ XÃ³a image
```bash
docker rmi <image_id>
```

### ğŸ”„ Build image tá»« Dockerfile
```bash
docker build -t ten-image .
```

### ğŸš VÃ o bÃªn trong container
```bash
docker exec -it <container_id> bash
```

---

## ğŸ§± Dockerfile lÃ  gÃ¬?

Dockerfile lÃ  file mÃ´ táº£ **cÃ¡ch táº¡o ra má»™t image**. Giá»‘ng nhÆ° cÃ´ng thá»©c náº¥u Äƒn Ä‘á»ƒ táº¡o ra container.

### VÃ­ dá»¥ Dockerfile cho Laravel:

```Dockerfile
# Chá»‰ Ä‘á»‹nh image gá»‘c (á»Ÿ Ä‘Ã¢y lÃ  PHP) fpm lÃ  fast process manager
FROM php:8.2-fpm 

# CÃ i dependency
RUN apt-get update && apt-get install -y \
    zip unzip git curl libzip-dev libpng-dev libonig-dev libxml2-dev \
    && docker-php-ext-install pdo pdo_mysql mbstring zip exif pcntl

# CÃ i Composer
COPY --from=composer:latest /usr/bin/composer /usr/bin/composer

# Set thÆ° má»¥c lÃ m viá»‡c
WORKDIR /var/www

# Copy toÃ n bá»™ code vÃ o container
COPY . .

# CÃ i package Laravel
RUN composer install

# Cáº¥p quyá»n cho Laravel
RUN chown -R www-data:www-data storage bootstrap/cache \
    && chmod -R 775 storage bootstrap/cache

# Cháº¡y php-fpm 
CMD ["php-fpm"]
```

**Giáº£i thÃ­ch:**
- `FROM`: chá»‰ Ä‘á»‹nh image gá»‘c (á»Ÿ Ä‘Ã¢y lÃ  PHP)
- `RUN`: thá»±c hiá»‡n cÃ¡c lá»‡nh khi build
- `COPY`: copy file tá»« host vÃ o image
- `WORKDIR`: thÆ° má»¥c lÃ m viá»‡c trong container
- `CMD`: lá»‡nh máº·c Ä‘á»‹nh khi container cháº¡y

---

## ğŸ§¬ Docker Compose lÃ  gÃ¬?

Docker Compose cho phÃ©p báº¡n quáº£n lÃ½ **nhiá»u container cÃ¹ng lÃºc** báº±ng cÃ¡ch Ä‘á»‹nh nghÄ©a táº¥t cáº£ trong 1 file `docker-compose.yml`.

### VÃ­ dá»¥ `docker-compose.yml`

```yaml
version: '3.8' # Chá»‰ Ä‘á»‹nh phiÃªn báº£n cÃº phÃ¡p cá»§a Docker Compose file

services: # Äá»‹nh nghÄ©a cÃ¡c service (container) cáº§n cháº¡y
  app: # TÃªn service
    build: # Build tá»« Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i
      context: . # ThÆ° má»¥c chá»©a Dockerfile
    volumes: # Mount code tá»« host vÃ o container
      - .:/var/www # ThÆ° má»¥c chá»©a code
    ports: # Expose port
      - "9000:9000" # Ãnh xáº¡ port (host:container)
    command: php-fpm # Lá»‡nh máº·c Ä‘á»‹nh khi container cháº¡y
    depends_on: # Thá»© tá»± khá»Ÿi cháº¡y
      - mysql # Phá»¥ thuá»™c vÃ o MySQL service

  mysql: # TÃªn service
    image: mysql:8.0 # Sá»­ dá»¥ng MySQL 8.0 image
    environment: # Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng
      MYSQL_ROOT_PASSWORD: root # Root password
      MYSQL_DATABASE: myapp # TÃªn database
    ports: # Expose port
      - "3306:3306" # Ãnh xáº¡ port (host:container)
    volumes: # LÆ°u data vÃ o named volume
      - mysql_data:/var/lib/mysql

volumes: # Äá»‹nh nghÄ©a named volume Ä‘á»ƒ lÆ°u trá»¯ data MySQL Ä‘á»ƒ khÃ´ng bá»‹ máº¥t khi container bá»‹ xÃ³a
  mysql_data: # TÃªn volume
```

**Giáº£i thÃ­ch:**
- `services`: cÃ¡c container muá»‘n cháº¡y
- `build`: chá»‰ Ä‘á»‹nh Dockerfile Ä‘á»ƒ build
- `volumes`: Ã¡nh xáº¡ thÆ° má»¥c giá»¯a mÃ¡y tháº­t vÃ  container
- `ports`: Ã¡nh xáº¡ port
- `depends_on`: thá»© tá»± khá»Ÿi cháº¡y
- `volumes`: táº¡o volume lÆ°u trá»¯ dá»¯ liá»‡u vÄ©nh viá»…n

---

## ğŸ’¡ Má»™t sá»‘ máº¹o

- DÃ¹ng `.dockerignore` Ä‘á»ƒ loáº¡i trá»« file khÃ´ng cáº§n thiáº¿t (giá»‘ng `.gitignore`)
- ThÆ°á»ng xuyÃªn dÃ¹ng `docker-compose down -v` Ä‘á»ƒ xÃ³a container + volume náº¿u gáº·p lá»—i váº·t
- Cáº©n tháº­n vá»›i `chmod 777`, nÃªn dÃ¹ng `775` vÃ  cáº¥p Ä‘Ãºng user (vd: `www-data`)
- Khi cháº¡y `docker-compose up`, náº¿u muá»‘n táº¡o láº¡i container má»›i dÃ¹ng `docker-compose up -d --build`

---

## ğŸ¯ Káº¿t luáº­n

Docker lÃ  cÃ´ng cá»¥ cá»±c ká»³ máº¡nh máº½ giÃºp báº¡n:
- Tá»± Ä‘á»™ng hÃ³a mÃ´i trÆ°á»ng phÃ¡t triá»ƒn
- Triá»ƒn khai á»©ng dá»¥ng dá»… dÃ ng, nháº¥t quÃ¡n
- LÃ m viá»‡c theo mÃ´ hÃ¬nh microservices

Báº¡n khÃ´ng cáº§n nhá»› háº¿t má»i thá»© ngay. Báº¯t Ä‘áº§u tá»« nhá»¯ng Dockerfile vÃ  Compose Ä‘Æ¡n giáº£n, dáº§n dáº§n báº¡n sáº½ tháº¥y nÃ³ "ngon" nhÆ° cÆ¡m nhÃ  lÃ m.

---

## ğŸ“š TÃ i liá»‡u tham kháº£o

- [Docker Documentation](https://docs.docker.com/)
- [Docker Compose Documentation](https://docs.docker.com/compose/)
- [Dockerfile Documentation](https://docs.docker.com/engine/reference/builder/)
